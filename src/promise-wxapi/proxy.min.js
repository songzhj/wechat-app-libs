module.exports=function(){let t,e=null;function n(t){return!!t&&("object"==typeof t||"function"==typeof t)}return(t=function(t,r){if(!n(t)||!n(r))throw new TypeError("Cannot create proxy with a non-object as target or handler");let o=function(){};e=function(){o=function(t){throw new TypeError(`Cannot perform '${t}' on a proxy that has been revoked`)}};const i=r;r={get:null,set:null,apply:null,construct:null};for(let t in i){if(!(t in r))throw new TypeError(`Proxy polyfill does not support trap '${t}'`);r[t]=i[t]}"function"==typeof i&&(r.apply=i.apply.bind(i));let c=this,p=!1,u=!1;"function"==typeof t?(c=function(){const e=this&&this.constructor===c,n=Array.prototype.slice.call(arguments);if(o(e?"construct":"apply"),e&&r.construct)return r.construct.call(this,t,n);if(!e&&r.apply)return r.apply(t,this,n);if(e){return n.unshift(t),new(t.bind.apply(t,n))}return t.apply(this,n)},p=!0):t instanceof Array&&(c=[],u=!0);const f=r.get?function(t){return o("get"),r.get(this,t,c)}:function(t){return o("get"),this[t]},l=r.set?function(t,e){o("set");r.set(this,t,e,c)}:function(t,e){o("set"),this[t]=e},s=Object.getOwnPropertyNames(t),a={};s.forEach(function(e){if((p||u)&&e in c)return;const n={enumerable:!!Object.getOwnPropertyDescriptor(t,e).enumerable,get:f.bind(t,e),set:l.bind(t,e)};Object.defineProperty(c,e,n),a[e]=!0});let y=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(c,Object.getPrototypeOf(t)):c.__proto__?c.__proto__=t.__proto__:y=!1,r.get||!y)for(let e in t)a[e]||Object.defineProperty(c,e,{get:f.bind(t,e)});return Object.seal(t),Object.seal(c),c}).revocable=function(n,r){return{proxy:new t(n,r),revoke:e}},t};
